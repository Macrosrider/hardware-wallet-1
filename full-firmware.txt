make -C tiny-firmware/protob/ build-c
make[1]: Entering directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/protob'
make -C nanopb/vendor/nanopb/generator/proto/
make[2]: Entering directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/protob/nanopb/vendor/nanopb/generator/proto'
make[2]: Nothing to be done for 'all'.
make[2]: Leaving directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/protob/nanopb/vendor/nanopb/generator/proto'
pip3 install  "protobuf==3.6.1" ecdsa
Requirement already satisfied: protobuf==3.6.1 in /home/maceo/anaconda3/lib/python3.6/site-packages (3.6.1)
Requirement already satisfied: ecdsa in /home/maceo/anaconda3/lib/python3.6/site-packages (0.13)
Requirement already satisfied: setuptools in /home/maceo/anaconda3/lib/python3.6/site-packages (from protobuf==3.6.1) (40.8.0)
Requirement already satisfied: six>=1.9 in /home/maceo/anaconda3/lib/python3.6/site-packages (from protobuf==3.6.1) (1.11.0)
make[1]: Leaving directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/protob'
make -C tiny-firmware/vendor/libopencm3/
make[1]: Entering directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/vendor/libopencm3'
  GENHDR  include/libopencm3/efm32/g/irq.json
  GENHDR  include/libopencm3/efm32/gg/irq.json
  GENHDR  include/libopencm3/efm32/lg/irq.json
  GENHDR  include/libopencm3/efm32/tg/irq.json
  GENHDR  include/libopencm3/lm3s/irq.json
  GENHDR  include/libopencm3/lpc13xx/irq.json
  GENHDR  include/libopencm3/lpc17xx/irq.json
  GENHDR  include/libopencm3/lpc43xx/m0/irq.json
  GENHDR  include/libopencm3/lpc43xx/m4/irq.json
  GENHDR  include/libopencm3/sam/3a/irq.json
  GENHDR  include/libopencm3/sam/3n/irq.json
  GENHDR  include/libopencm3/sam/3s/irq.json
  GENHDR  include/libopencm3/sam/3u/irq.json
  GENHDR  include/libopencm3/sam/3x/irq.json
  GENHDR  include/libopencm3/sam/d/irq.json
  GENHDR  include/libopencm3/stm32/f7/irq.json
  GENHDR  include/libopencm3/stm32/f0/irq.json
  GENHDR  include/libopencm3/stm32/f1/irq.json
  GENHDR  include/libopencm3/stm32/f2/irq.json
  GENHDR  include/libopencm3/stm32/f3/irq.json
  GENHDR  include/libopencm3/stm32/f4/irq.json
  GENHDR  include/libopencm3/stm32/l0/irq.json
  GENHDR  include/libopencm3/stm32/l1/irq.json
  GENHDR  include/libopencm3/stm32/l4/irq.json
  GENHDR  include/libopencm3/vf6xx/irq.json
  BUILD   lib/stm32/f0
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/f1
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/f2
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/f3
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/f4
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/f7
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/l0
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/l1
make[2]: Nothing to be done for 'all'.
  BUILD   lib/stm32/l4
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lpc13xx
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lpc17xx
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lpc43xx/m4
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lpc43xx/m0
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lm3s
make[2]: Nothing to be done for 'all'.
  BUILD   lib/lm4f
make[2]: Nothing to be done for 'all'.
  BUILD   lib/efm32/tg
make[2]: Nothing to be done for 'all'.
  BUILD   lib/efm32/g
make[2]: Nothing to be done for 'all'.
  BUILD   lib/efm32/lg
make[2]: Nothing to be done for 'all'.
  BUILD   lib/efm32/gg
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/3a
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/3n
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/3s
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/3u
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/3x
make[2]: Nothing to be done for 'all'.
  BUILD   lib/sam/d
make[2]: Nothing to be done for 'all'.
  BUILD   lib/vf6xx
make[2]: Nothing to be done for 'all'.
make[1]: Leaving directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/vendor/libopencm3'
rm -f tiny-firmware/memory.o tiny-firmware/gen/bitmaps.o # Force rebuild of these two files
MEMORY_PROTECT=0 SIGNATURE_PROTECT=1 REVERSE_BUTTONS=1 make -C tiny-firmware/bootloader/ align
make[1]: Entering directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/bootloader'
arm-none-eabi-gcc -DUSE_PRECOMPUTED_IV=0 -DUSE_PRECOMPUTED_CP=0 -DSIGNATURE_PROTECT=1 -DBOOTLOADER -DSIGNATURE_DEBUG=0 -DCONFIDENTIAL='__attribute__((section("confidential")))' -DDISABLE_GETENTROPY_CONFIRM= -DENABLE_GETENTROPY= -Os -g -DNDEBUG -std=gnu99 -W -Wall -Wextra -Wimplicit-function-declaration -Wredundant-decls -Wstrict-prototypes -Wundef -Wshadow -Wpointer-arith -Wformat -Wreturn-type -Wsign-compare -Wmultichar -Wformat-nonliteral -Winit-self -Wuninitialized -Wformat-security -Werror -fno-common -fno-exceptions -fvisibility=internal -ffunction-sections -fdata-sections -fstack-protector-all -mcpu=cortex-m3 -mthumb -msoft-float -DSTM32F2 -DRAND_PLATFORM_INDEPENDENT=1 -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/include -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//gen -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/aes -DFASTFLASH=0 -DREVERSE_SCREEN=0 -DREVERSE_BUTTONS=1 -DEMULATOR=0 -DMEMORY_PROTECT=0 -DDEBUG_RNG=0 -MMD -MP -o ../memory.o -c ../memory.c
arm-none-eabi-gcc -DUSE_PRECOMPUTED_IV=0 -DUSE_PRECOMPUTED_CP=0 -DSIGNATURE_PROTECT=1 -DBOOTLOADER -DSIGNATURE_DEBUG=0 -DCONFIDENTIAL='__attribute__((section("confidential")))' -DDISABLE_GETENTROPY_CONFIRM= -DENABLE_GETENTROPY= -Os -g -DNDEBUG -std=gnu99 -W -Wall -Wextra -Wimplicit-function-declaration -Wredundant-decls -Wstrict-prototypes -Wundef -Wshadow -Wpointer-arith -Wformat -Wreturn-type -Wsign-compare -Wmultichar -Wformat-nonliteral -Winit-self -Wuninitialized -Wformat-security -Werror -fno-common -fno-exceptions -fvisibility=internal -ffunction-sections -fdata-sections -fstack-protector-all -mcpu=cortex-m3 -mthumb -msoft-float -DSTM32F2 -DRAND_PLATFORM_INDEPENDENT=1 -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/include -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//gen -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/aes -DFASTFLASH=0 -DREVERSE_SCREEN=0 -DREVERSE_BUTTONS=1 -DEMULATOR=0 -DMEMORY_PROTECT=0 -DDEBUG_RNG=0 -MMD -MP -o ../gen/bitmaps.o -c ../gen/bitmaps.c
arm-none-eabi-gcc -o bootloader.elf ../startup.o ../buttons.o ../layout.o ../oled.o ../rng.o ../serialno.o ../setup.o ../supervise.o ../timer.o ../util.o ../memory.o ../gen/bitmaps.o ../gen/fonts.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/skycoin_check_signature.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/skycoin_check_signature_tools.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/curves.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/hmac.o bootloader.o signatures.o usb.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/bignum.small.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/sha2.small.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/memzero.small.o -lopencm3_stm32f2 --static -Wl,--start-group -lc -lgcc -lnosys -Wl,--end-group -L/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/lib -Tbootloader-memory.ld -nostartfiles -Wl,--gc-sections -L/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -g -DNDEBUG -mcpu=cortex-m3 -mthumb -msoft-float
arm-none-eabi-objcopy -Obinary bootloader.elf bootloader.bin
./firmware_align.py bootloader.bin
make[1]: Leaving directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware/bootloader'
mv tiny-firmware/bootloader/bootloader.bin bootloader-no-memory-protect.bin
rm -f tiny-firmware/memory.o tiny-firmware/gen/bitmaps.o # Force rebuild of these two files
REVERSE_BUTTONS=1 make -C tiny-firmware/ sign
make[1]: Entering directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware'
arm-none-eabi-gcc -DAPPVER=1.0.0 -Wno-sequence-point -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/nanopb/vendor/nanopb -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/c -DPB_FIELD_16BIT=1 -DDEBUG_LINK=0 -DDEBUG_LOG= -I. -Ifirmware -frandom-seed=123 -DCONFIDENTIAL='__attribute__((section("confidential")))' -DDISABLE_GETENTROPY_CONFIRM=0 -DENABLE_GETENTROPY=0 -O3 -g -DNDEBUG -std=gnu99 -W -Wall -Wextra -Wimplicit-function-declaration -Wredundant-decls -Wstrict-prototypes -Wundef -Wshadow -Wpointer-arith -Wformat -Wreturn-type -Wsign-compare -Wmultichar -Wformat-nonliteral -Winit-self -Wuninitialized -Wformat-security -Werror -fno-common -fno-exceptions -fvisibility=internal -ffunction-sections -fdata-sections -fstack-protector-all -mcpu=cortex-m3 -mthumb -msoft-float -DSTM32F2 -DRAND_PLATFORM_INDEPENDENT=1 -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/include -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//gen -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/aes -DFASTFLASH=0 -DREVERSE_SCREEN=0 -DREVERSE_BUTTONS=1 -DEMULATOR=0 -DDEBUG_RNG=0 -MMD -MP -o memory.o -c memory.c
arm-none-eabi-gcc -DAPPVER=1.0.0 -Wno-sequence-point -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/nanopb/vendor/nanopb -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/c -DPB_FIELD_16BIT=1 -DDEBUG_LINK=0 -DDEBUG_LOG= -I. -Ifirmware -frandom-seed=123 -DCONFIDENTIAL='__attribute__((section("confidential")))' -DDISABLE_GETENTROPY_CONFIRM=0 -DENABLE_GETENTROPY=0 -O3 -g -DNDEBUG -std=gnu99 -W -Wall -Wextra -Wimplicit-function-declaration -Wredundant-decls -Wstrict-prototypes -Wundef -Wshadow -Wpointer-arith -Wformat -Wreturn-type -Wsign-compare -Wmultichar -Wformat-nonliteral -Winit-self -Wuninitialized -Wformat-security -Werror -fno-common -fno-exceptions -fvisibility=internal -ffunction-sections -fdata-sections -fstack-protector-all -mcpu=cortex-m3 -mthumb -msoft-float -DSTM32F2 -DRAND_PLATFORM_INDEPENDENT=1 -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/include -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//gen -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools -I/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/aes -DFASTFLASH=0 -DREVERSE_SCREEN=0 -DREVERSE_BUTTONS=1 -DEMULATOR=0 -DDEBUG_RNG=0 -MMD -MP -o gen/bitmaps.o -c gen/bitmaps.c
arm-none-eabi-ar rcs libskycoin.a startup.o timer.o setup.o supervise.o buttons.o layout.o oled.o rng.o util.o memory.o gen/bitmaps.o gen/fonts.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/nanopb/vendor/nanopb/pb_common.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/nanopb/vendor/nanopb/pb_decode.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//protob/nanopb/vendor/nanopb/pb_encode.o firmware/usb.o firmware/skywallet.o firmware/layout2.o firmware/storage.o firmware/messages.o firmware/droplet.o firmware/fsm.o firmware/fsm_impl.o firmware/protect.o firmware/pinmatrix.o firmware/reset.o firmware/recovery.o firmware/factory_test.o firmware/entropy.o firmware/swtimer.o protob/c/messages.pb.o protob/c/types.pb.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/skycoin_crypto.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/check_digest.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/skycoin_check_signature_tools.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/skycoin_check_signature.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/base58.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/blake256.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/hasher.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/rand.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/sha2.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/bignum.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/curves.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/hmac.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/ripemd160.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/bip32.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/ecdsa.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/memzero.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/secp256k1.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/bip39.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/skycoin-crypto/tools/pbkdf2.o /media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/lib/libopencm3_stm32f2.a
arm-none-eabi-gcc -o skycoin.elf firmware/main.o -lskycoin -lopencm3_stm32f2 --static -Wl,--start-group -lc -lgcc -lnosys -Wl,--end-group -L/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware//vendor/libopencm3/lib -Tmemory.ld -nostartfiles -Wl,--gc-sections -L/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware// -g -DNDEBUG -mcpu=cortex-m3 -mthumb -msoft-float
arm-none-eabi-objcopy -Obinary skycoin.elf skycoin.bin
bootloader/firmware_sign.py -f skycoin.bin
Metadata has been added...
Firmware size 229280 bytes
Firmware fingerprint: 3f9d143712f9474783ce19204e4f26e6ca56a90e2fb581a8bbe56abb71fbfce2
Slot #1 is empty
Slot #2 is empty
Slot #3 is empty
make[1]: Leaving directory '/media/maceo/Datas1/wallets/hardware-wallet/tiny-firmware'
cp bootloader-no-memory-protect.bin tiny-firmware/bootloader/combine/bl.bin
cp tiny-firmware/skycoin.bin tiny-firmware/bootloader/combine/fw.bin
cd tiny-firmware/bootloader/combine/ ; /usr/bin/python prepare.py
bootloader : 32768 bytes
firmware   : 229280 bytes
combined   : 294560 bytes
mv tiny-firmware/bootloader/combine/combined.bin full-firmware-no-mem-protect.bin
